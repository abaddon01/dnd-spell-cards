<html>
    <head>
        <link rel="stylesheet" href="../../reset.css" type="text/css">
        <link rel="stylesheet" href="../../card.css" type="text/css">

        <script type='text/javascript' src='../../jquery-3.3.1.min.js'></script>
        <script type='text/javascript'>
            'use strict';

            // Inspiration: https://coderwall.com/p/_8jxgw/autoresize-text-to-fit-into-a-div-width-height
            var autoSizeText = function () {
                var resizeElements = $('.resize');
                for (var i = 0; i < resizeElements.length; i++) {
                    var resizeElement = resizeElements[i];

                    while (resizeElement.scrollHeight > resizeElement.offsetHeight) {
                        var newFontSize = (parseInt($(resizeElement).css('font-size').slice(0, -2)) - 1) + 'px';
                        $(resizeElement).css('font-size', newFontSize);
                    }
                }
            };

            $(document).ready(function () {
                autoSizeText();
            });
        </script>
    </head>
    <body>
        <div class='card'>
            <div class='content'>

                <div class='header'>
                    <div class='level'>
                        <span>
                            __LEVEL__
                        </span>
                    </div>
                    <div class='name'>
                        <span>
                            __NAME__
                        </span>
                    </div>

                </div>

                <div class='spell-body'>
                    <div class='spell-content'>
                        <table class="spell-table" >
                            <tr>
                                <th class="spell-content-row cast-time content-header">Casting Time</th>
                                <th class="spell-content-row range content-header">Range</th>
                            </tr>
                            <tr>
                                <td class="content-data">__CAST_TIME__</td>
                                <td class="content-data"> __RANGE__</td>
                            </tr>
                            <tr>
                                <th class="spell-content-row duration content-header">Duration</th>
                                <th class="spell-content-row page content-header">Page</th>
                            </tr>
                            <tr>
                                <td class="content-data">__DURATION__</td>
                                <td class="content-data">__PAGE__</td>
                            </tr>
                            <tr>
                                <th class="spell-content-row duration content-header">Saving Throw</th>
                                <th class="spell-content-row page content-header">Spell Resistance</th>
                            </tr>
                            <tr>
                                <td class="content-data resize">__SAVING_THROW__</td>
                                <td class="content-data SR resize">__SPELL_RESISTANCE__</td>
                            </tr>
                        </table>
                        <div class='components'>
                            <div class='content-header'>
                                Spell Components
                            </div>
                            <div class='content-data'>
                                <li>
                                    <ul class='spell-component spell-component-__COMPONENT_VERBAL__'>Verbal</ul>
                                    <ul class='spell-component spell-component-__COMPONENT_SOMATIC__'>Somatic</ul>
                                    <ul class='spell-component spell-component-__COMPONENT_MATERIAL__'>Material</ul>
                                    <ul class='spell-component spell-component-__COMPONENT_FOCUS__'>Focus</ul>
                                    <ul class='spell-component spell-component-__COMPONENT_XP__'>Experience</ul>
                                </li>
                            </div>
                        </div>
                    </div>
                    <div class='description resize'>
                        __DESCRIPTION__
                    </div>
                </div>
                <!--
                            <div class='header flipped'>
                               <div class='level'>
                                  __LEVEL__
                               </div>
                               <div class='name'>
                                  <span>
                                     __NAME__
                                  </span>
                               </div>
                               <div class='school'>
                                  <img src='../../images/school-symbols/__SCHOOL__-symbol.png' />
                               </div>
                            </div>
                -->
                <div class='school-name-bottom'>
                    <span>
                        __SCHOOL__
                    </span>
                </div>
                <div class='school-image-bottom'>
                    <img width="200" src='../../images/school-symbols/__SCHOOL__-symbol.png' />
                </div>
            </div>
        </div>
    </body>
</html>
